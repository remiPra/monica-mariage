---
import PrendreRendezVousButtonHome from "./PrendreRendezVousButtonHome.astro";

// FAQ Accordion Component pour Astro
// FAQAccordion.astro
const faqItems = [
   {
    question: "O√π se trouve exactement Monica Mariage √† Toulouse ?",
    answer: `üìç Notre showroom est situ√© √† Seysses, √† 15 minutes du centre de Toulouse. 
Adresse pr√©cise : 1220 chemin de brouquere, 31600 Seysses

üöó Acc√®s facile :
- Parking gratuit sur place
- Depuis A64/A61 - Sortie Seysses
- ‚ôø Accessible aux personnes √† mobilit√© r√©duite

üïí Horaires : Sur rendez-vous uniquement - 06 68 30 09 60`,
  },
  
  {
    question: "Quels sont exactement les tarifs des robes sur-mesure ?",
    answer: `üí∞ Nos cr√©ations sur-mesure s'√©chelonnent de 750‚Ç¨ √† 1850‚Ç¨

‚úÖ INCLUS dans le prix :
- Cr√©ation personnalis√©e selon vos mesures
- 3 essayages personnalis√©s
- Toutes les retouches n√©cessaires
- Conseils morphologie

üí≥ Paiement facilit√© en 3 fois :
- 50% √† la commande
- 25% au 1er essayage  
- 25% √† la r√©cup√©ration

Tous styles disponibles : princesse, sir√®ne, boh√®me-chic, minimaliste.`,
  },
  
  {
    question: "Combien de temps faut-il pour faire une robe sur-mesure ?",
    answer: `‚è±Ô∏è D√©lai de confection : 3 √† 4 mois √† compter de la signature du devis

üìÖ Planning type :
- Mois 1 : Premier essayage + validation du style
- Mois 2 : Deuxi√®me essayage + ajustements
- Mois 3-4 : Essayage final + livraison

‚ö†Ô∏è CONSEIL : Pr√©voir minimum 4 mois avant votre mariage pour √™tre sereine.

üéØ Planning serr√© ? Contactez-nous, nous √©tudions les possibilit√©s selon nos disponibilit√©s atelier.`,
  },
  {
    question: "Faut-il prendre rendez-vous avant de venir ?",
    answer: `Oui, nous recevons uniquement sur rendez-vous. Pour d√©couvrir mes selections de robes , vous pouvez consulter mon site, puis prendre rendez-vous pour un essayage.`,
  },

  {
    question: "Comment se d√©roule le premier rendez-vous ?",
    answer: `Votre rendez-vous se d√©roule dans notre showroom priv√© √† Seysses, pr√®s de Toulouse, dans une atmosph√®re intime et chaleureuse. Lors de ce moment privil√©gi√©, nous √©changerons sur :
      ‚Ä¢ Vos inspirations et le style recherch√©
      ‚Ä¢ Votre budget (nos robes sont disponibles entre 750‚Ç¨ et 1850‚Ç¨)
      ‚Ä¢ Vos contraintes de date
      ‚Ä¢ Vos pr√©f√©rences en termes de style
      
      Chaque essayage est une exp√©rience unique o√π vous √™tes notre seule priorit√©.`,
  },
  {
    question: "Que faut-il pr√©voir pour l'essayage ?",
    answer: `Avant votre essayage, pensez √† :

Pas besoin de soutien-gorge : les robes sont dot√©es de coques int√©gr√©es

Pour le bas : un slip couleur chair

Apporter vos chaussures propres de mariage (ou une paire au talon √©quivalent)

Immortaliser l‚Äôessayage en photos, en gardant √† l‚Äôesprit que chaque mod√®le pourra √™tre ajust√©`,
  },
  {
    question: "Combien d'essayages sont inclus dans le sur-mesure ?",
    answer: `Votre parcours sur-mesure comprend g√©n√©ralement 3 essayages personnalis√©s dans notre showroom :

- Premier essayage : validation du style, des proportions et des d√©tails (dentelle, d√©collet√©, longueur)
- Deuxi√®me essayage : ajustements interm√©diaires apr√®s les premi√®res retouches  
- Essayage final : v√©rification de la perfection des ajustements avant livraison

Chaque s√©ance se d√©roule dans l'intimit√© de notre atelier, avec conseils morphologie personnalis√©s.`,
  },
  {
    question: "Quelles sont les modalit√©s de paiement ?",
    answer: `Pour faciliter votre achat, nous proposons un paiement en trois fois :
      ‚Ä¢ 50% √† la commande
      ‚Ä¢ 25% au premier essayage
      ‚Ä¢ 25% √† la r√©cup√©ration de la robe
      
      `,
  },
  {
    question: "Combien de personnes puis je faire venir ?",
    answer: `Lors de votre premier essayage, moins c‚Äôest plus :

Un comit√© r√©duit : 4 personnes maximum, quelques visages familiers suffisent pour vous guider sans alourdir la prise de d√©cision.

Des soutiens sinc√®res : invitez des amis ou membres de la famille qui vous encouragent et vous conseillent en pensant √† vous,  non pas imposer leurs go√ªts.

Ce jour-l√†, offrez-vous la paix int√©rieure qu‚Äôexige un choix si intime : confiez vos tr√©sors de 1 √† 9 ans √† un proche pour vivre pleinement l‚Äô√©motion pure de votre robe de mari√©e.
      
      `,
  },
  {
    question: "Puis-je venir avec mes enfants ?",
    answer: `Ce jour-l√†, offrez-vous la paix int√©rieure qu‚Äôexige un choix si intime : confiez vos tr√©sors de 1 √† 9 ans √† un proche, car, √† cet √¢ge, ils s‚Äôimpatientent tr√®s vite, et vivez pleinement l‚Äô√©motion pure de votre robe de mari√©e.`,
  },
  {
    question:
      "Quelles collections de robes de mari√©e proposez-vous √† Toulouse ?",
    answer: `Notre boutique pr√®s de Toulouse propose une s√©lection soigneusement choisie de robes de mari√©e pour tous les styles :
      ‚Ä¢ Robes de mari√©e princesse comme nos mod√®les Emil et Kapella, parmi nos best-sellers
      ‚Ä¢ Robes de mari√©e sir√®ne, comme notre populaire mod√®le Vegas
      ‚Ä¢ Robes de mari√©e boh√®me chic, dont notre c√©l√®bre mod√®le Tina
      
      Chaque future mari√©e toulousaine peut trouver chez Monica Mariage la robe qui correspond √† son style, sa silhouette et son budget. Notre expertise vous guide vers les mod√®les qui vous mettront particuli√®rement en valeur, adapt√©s sp√©cialement √† vos mesures.`,
  },
  {
    question:
      "Pourquoi choisir Monica Mariage pour sa robe de mari√©e √† Toulouse ?",
    answer: `Depuis 2014, Monica Mariage s'est impos√©e comme une r√©f√©rence pour les futures mari√©es de Toulouse et sa r√©gion pour plusieurs raisons :
      ‚Ä¢ Un showroom priv√© et intimiste o√π chaque mari√©e est re√ßue individuellement
      ‚Ä¢ Une expertise reconnue dans le conseil et l'adaptation des robes √† chaque morphologie
      ‚Ä¢ Des robes personnalisables et r√©alis√©es √† vos mesures exactes
      ‚Ä¢ Un rapport qualit√©-prix exceptionnel avec des robes entre 750‚Ç¨ et 1850‚Ç¨
      ‚Ä¢ Une approche chaleureuse o√π "chaque mari√©e est trait√©e comme une reine"
      
      Notre boutique situ√©e √† Seysses, facilement accessible depuis Toulouse, vous offre une exp√©rience sur-mesure loin de l'agitation des grands salons, pour que la recherche de votre robe reste un moment magique et privil√©gi√©.`,
  },
];
---

<section class="py-12 bg-gradient-to-b from-white to-[#FDE9E6]" client:idle>
  <script type="application/ld+json" set:html={`
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Quel est le prix d'une robe de mari√©e sur-mesure √† Toulouse ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Nos robes sur-mesure sont propos√©es entre 750‚Ç¨ et 1850‚Ç¨, comprenant la cr√©ation, les essayages et les retouches n√©cessaires."
      }
    },
    {
      "@type": "Question",
      "name": "Combien de temps faut-il pour confectionner une robe sur-mesure ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Le d√©lai de confection est g√©n√©ralement de 3 √† 4 mois √† compter de la signature du devis."
      }
    },
    {
      "@type": "Question",
      "name": "O√π se trouve le showroom Monica Mariage ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Notre showroom priv√© se trouve √† Seysses, √† 15 minutes de Toulouse. Tous nos rendez-vous se d√©roulent sur rendez-vous uniquement."
      }
    },
    {
      "@type": "Question",
      "name": "Comment se d√©roule le premier rendez-vous ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Votre rendez-vous se d√©roule dans notre showroom priv√© √† Seysses, dans une atmosph√®re intime. Nous √©changerons sur vos inspirations, votre budget, vos contraintes de date et vos pr√©f√©rences de style."
      }
    },
    {
      "@type": "Question",
      "name": "Combien d'essayages sont inclus dans le sur-mesure ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Votre parcours sur-mesure comprend g√©n√©ralement 3 essayages personnalis√©s : validation du style, ajustements interm√©diaires, et essayage final avant livraison."
      }
    }
  ]
}
`}></script>
  <div class="container mx-auto px-4 max-w-6xl">
    <!-- En-t√™te avec ic√¥ne et titre -->
    <div class="flex flex-col items-center mb-8">
      <!-- Ic√¥ne FAQ -->
      <div
        class="w-20 h-20 mb-6 flex items-center justify-center bg-[#FDF8F7] rounded-full border-2 border-[#F0E6E2] shadow-sm"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
          fill="none"
          stroke="#B68E75"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      </div>

      <!-- Titre principal avec police script -->
      <h2
        class="font-vibes text-center text-4xl md:text-5xl text-[#af7749] mb-2"
      >
        Questions Fr√©quentes
      </h2>

      <!-- Sous-titre d√©coratif -->
      <div class="flex items-center justify-center gap-4 mb-8">
        <span class="h-px w-12 bg-[#C5A880]"></span>
        <p class="text-[#8B7569] text-sm text-center font-medium">
          TOUT CE QUE VOUS DEVEZ SAVOIR
        </p>
        <span class="h-px w-12 bg-[#C5A880]"></span>
      </div>
    </div>

    <!-- Section des accord√©ons FAQ -->
    <div class="max-w-3xl mx-auto">
      <div class="space-y-4" id="faq-accordion">
        {
          faqItems.map((item, index) => (
            <div class="bg-white rounded-lg overflow-hidden shadow-sm border border-[#F0E6E2] hover:shadow-md transition-all duration-300">
              <button
                class="w-full text-left px-6 py-5 text-[#5F4B3F] flex justify-between items-center faq-trigger"
                data-index={index}
                aria-expanded="false"
              >
                <span class="font-cormorant text-[#5F4B3F] font-medium text-lg">
                  {item.question}
                </span>
                <span class="w-8 h-8 flex items-center justify-center rounded-full bg-[#FDF8F7] border border-[#F0E6E2] text-[#af7749] transition-transform duration-300">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                  </svg>
                </span>
              </button>

              <div class="faq-content max-h-0 opacity-0 overflow-hidden transition-all duration-300">
                <div class="px-6 py-5 border-t border-[#F0E6E2] bg-[#FEFBFA]">
                  <p class="text-[#5F4B3F] whitespace-pre-line leading-relaxed font-lora text-lg">
                    {item.answer}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>

      <!-- Bouton d'action -->
      <div class="text-center mt-10">
        <PrendreRendezVousButtonHome />
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const faqTriggers = document.querySelectorAll(".faq-trigger");

      faqTriggers.forEach((trigger) => {
        trigger.addEventListener("click", () => {
          const expanded = trigger.getAttribute("aria-expanded") === "true";
          const content = trigger.nextElementSibling;
          const icon = trigger.querySelector("span:last-child");

          // Fermer tous les autres accord√©ons
          faqTriggers.forEach((otherTrigger) => {
            if (
              otherTrigger !== trigger &&
              otherTrigger.getAttribute("aria-expanded") === "true"
            ) {
              otherTrigger.setAttribute("aria-expanded", "false");
              const otherContent = otherTrigger.nextElementSibling;
              const otherIcon = otherTrigger.querySelector("span:last-child");

              otherContent.style.maxHeight = "0";
              otherContent.style.opacity = "0";
              otherIcon.style.transform = "rotate(0deg)";
            }
          });

          // Ouvrir/fermer l'accord√©on actuel
          if (expanded) {
            // Fermer
            trigger.setAttribute("aria-expanded", "false");
            content.style.maxHeight = "0";
            content.style.opacity = "0";
            icon.style.transform = "rotate(0deg)";
          } else {
            // Ouvrir
            trigger.setAttribute("aria-expanded", "true");
            content.style.maxHeight = content.scrollHeight + "px";
            content.style.opacity = "1";
            icon.style.transform = "rotate(45deg)";
          }
        });
      });
    });
  </script>
</section>