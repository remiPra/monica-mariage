---
import PrendreRendezVousButtonHome from "./PrendreRendezVousButtonHome.astro";

// FAQ Accordion Component pour Astro
// FAQAccordion.astro
const faqItems = [
  {
    question:
      "Quand prendre rendez-vous pour essayer des robes de mariée à Toulouse ?",
    answer:
      "Pour une expérience sereine dans notre boutique près de Toulouse, nous vous conseillons de prendre rendez-vous 8 à 12 mois avant votre mariage. Notre processus de création nécessite 4 à 6 mois pour la confection, suivis des essayages et ajustements personnalisés. Cette planification nous permet de vous livrer votre robe de mariée parfaite environ un mois avant votre grand jour, vous laissant l'esprit tranquille pour profiter des derniers préparatifs de votre mariage à Toulouse ou dans la région.",
  },
  {
    question:
      "Comment se déroule un rendez-vous dans votre boutique de robes de mariée près de Toulouse ?",
    answer: `Votre rendez-vous privilégié se déroule dans notre showroom privé à Seysses, à seulement 20 minutes de Toulouse, dans une atmosphère intime et chaleureuse. Depuis 2014, nous avons créé un écrin féerique pour les futures mariées de Toulouse et sa région. Lors de ce moment exclusif d'1h15, nous échangerons sur :
      • Vos inspirations et le style de robe de mariée que vous recherchez
      • Votre budget (nos robes de mariée sont disponibles entre 750€ et 1850€)
      • Vos contraintes de date pour votre mariage à Toulouse ou dans la région
      • Vos préférences en termes de style (princesse, sirène, bohème chic...)
      
      Chez Monica Mariage, chaque essayage est une expérience unique où vous êtes notre seule priorité. Notre expertise vous guide pour trouver la robe qui sublime parfaitement votre silhouette et reflète votre personnalité, dans une ambiance confidentielle que les futures mariées de Toulouse apprécient particulièrement.`,
  },
  {
    question: "Que faut-il prévoir pour un essayage de robe de mariée réussi ?",
    answer: `Pour un essayage optimal de votre future robe de mariée à Toulouse, nous vous recommandons :
      • Des sous-vêtements nude sans couture
      • Vos chaussures de mariage ou des chaussures avec la hauteur de talon souhaitée
      
      N'hésitez pas à prendre des photos pendant vos essayages, tout en gardant à l'esprit que nos modèles d'exposition peuvent nécessiter des ajustements pour correspondre parfaitement à vos mesures. Notre boutique près de Toulouse est spécialisée dans la personnalisation des robes à votre taille exacte, pour que vous soyez absolument rayonnante le jour J.`,
  },
  {
    question:
      "Quelles sont les modalités de paiement pour une robe de mariée à Toulouse ?",
    answer: `Pour faciliter l'acquisition de votre robe de mariée près de Toulouse, nous proposons un paiement en trois fois :
      • 50% à la commande de votre robe
      • 25% au premier essayage
      • 25% à la récupération de votre robe de mariée
      
      Chez Monica Mariage à Toulouse, nous adaptons nos créations jusqu'à la taille 44 pour que chaque future mariée trouve la robe de ses rêves. Notre expertise depuis 2014 dans la région toulousaine nous permet d'offrir un service personnalisé et des robes adaptées à toutes les morphologies.`,
  },
  {
    question:
      "Quelles collections de robes de mariée proposez-vous à Toulouse ?",
    answer: `Notre boutique près de Toulouse propose une sélection soigneusement choisie de robes de mariée pour tous les styles :
      • Robes de mariée princesse comme nos modèles Emil et Kapella, parmi nos best-sellers
      • Robes de mariée sirène, comme notre populaire modèle Vegas
      • Robes de mariée bohème chic, dont notre célèbre modèle Tina
      
      Chaque future mariée toulousaine peut trouver chez Monica Mariage la robe qui correspond à son style, sa silhouette et son budget. Notre expertise vous guide vers les modèles qui vous mettront particulièrement en valeur, adaptés spécialement à vos mesures.`,
  },
  {
    question:
      "Pourquoi choisir Monica Mariage pour sa robe de mariée à Toulouse ?",
    answer: `Depuis 2014, Monica Mariage s'est imposée comme une référence pour les futures mariées de Toulouse et sa région pour plusieurs raisons :
      • Un showroom privé et intimiste où chaque mariée est reçue individuellement
      • Une expertise reconnue dans le conseil et l'adaptation des robes à chaque morphologie
      • Des robes personnalisables et réalisées à vos mesures exactes
      • Un rapport qualité-prix exceptionnel avec des robes entre 750€ et 1850€
      • Une approche chaleureuse où "chaque mariée est traitée comme une reine"
      
      Notre boutique située à Seysses, facilement accessible depuis Toulouse, vous offre une expérience sur-mesure loin de l'agitation des grands salons, pour que la recherche de votre robe reste un moment magique et privilégié.`,
  },
];
---

<section class="py-12 bg-gradient-to-b from-white to-[#FDE9E6]">
  <div class="container mx-auto px-4 max-w-6xl">
    <!-- En-tête avec icône et titre -->
    <div class="flex flex-col items-center mb-8">
      <!-- Icône FAQ -->
      <div
        class="w-20 h-20 mb-6 flex items-center justify-center bg-[#FDF8F7] rounded-full border-2 border-[#F0E6E2] shadow-sm"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
          fill="none"
          stroke="#B68E75"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      </div>

      <!-- Titre principal avec police script -->
      <h2
        class="font-vibes text-center text-4xl md:text-5xl text-[#af7749] mb-2"
      >
        Questions Fréquentes
      </h2>

      <!-- Sous-titre décoratif -->
      <div class="flex items-center justify-center gap-4 mb-8">
        <span class="h-px w-12 bg-[#C5A880]"></span>
        <p class="text-[#8B7569] text-sm text-center font-medium">
          TOUT CE QUE VOUS DEVEZ SAVOIR
        </p>
        <span class="h-px w-12 bg-[#C5A880]"></span>
      </div>
    </div>

    <!-- Section des accordéons FAQ -->
    <div class="max-w-3xl mx-auto">
      <div class="space-y-4" id="faq-accordion">
        {
          faqItems.map((item, index) => (
            <div class="bg-white rounded-lg overflow-hidden shadow-sm border border-[#F0E6E2] hover:shadow-md transition-all duration-300">
              <button
                class="w-full text-left px-6 py-5 text-[#5F4B3F] flex justify-between items-center faq-trigger"
                data-index={index}
                aria-expanded="false"
              >
                <span class="font-lora text-[#5F4B3F] font-medium text-lg">
                  {item.question}
                </span>
                <span class="w-8 h-8 flex items-center justify-center rounded-full bg-[#FDF8F7] border border-[#F0E6E2] text-[#af7749] transition-transform duration-300">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                  </svg>
                </span>
              </button>

              <div class="faq-content max-h-0 opacity-0 overflow-hidden transition-all duration-300">
                <div class="px-6 py-5 border-t border-[#F0E6E2] bg-[#FEFBFA]">
                  <p class="text-[#5F4B3F] whitespace-pre-line leading-relaxed font-lora text-lg">
                    {item.answer}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>

      <!-- Bouton d'action -->
      <div class="text-center mt-10">
        <PrendreRendezVousButtonHome />
      </div>
    </div>
  </div>

  <script defer>
    document.addEventListener("DOMContentLoaded", () => {
      const faqTriggers = document.querySelectorAll(".faq-trigger");

      faqTriggers.forEach((trigger) => {
        trigger.addEventListener("click", () => {
          const expanded = trigger.getAttribute("aria-expanded") === "true";
          const content = trigger.nextElementSibling;
          const icon = trigger.querySelector("span:last-child");

          // Fermer tous les autres accordéons
          faqTriggers.forEach((otherTrigger) => {
            if (
              otherTrigger !== trigger &&
              otherTrigger.getAttribute("aria-expanded") === "true"
            ) {
              otherTrigger.setAttribute("aria-expanded", "false");
              const otherContent = otherTrigger.nextElementSibling;
              const otherIcon = otherTrigger.querySelector("span:last-child");

              otherContent.style.maxHeight = "0";
              otherContent.style.opacity = "0";
              otherIcon.style.transform = "rotate(0deg)";
            }
          });

          // Ouvrir/fermer l'accordéon actuel
          if (expanded) {
            // Fermer
            trigger.setAttribute("aria-expanded", "false");
            content.style.maxHeight = "0";
            content.style.opacity = "0";
            icon.style.transform = "rotate(0deg)";
          } else {
            // Ouvrir
            trigger.setAttribute("aria-expanded", "true");
            content.style.maxHeight = content.scrollHeight + "px";
            content.style.opacity = "1";
            icon.style.transform = "rotate(45deg)";
          }
        });
      });
    });
  </script>
</section>
