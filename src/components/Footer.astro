---
import { Icon } from "astro-icon/components";
import SocialIcons from "./SocialIcons.astro";
---

<footer class="bg-[#925c36] text-white py-10">
  <div class="container mx-auto flex flex-wrap justify-between px-4">
    <!-- üìç LOGO + CONTACT -->
    <div class="w-full md:w-1/4 mb-6">
      <img
        src="/logo-new.png"
        alt="Monica Mariage Logo"
        width="128"
        height="128"
        class="w-32 mb-4 bg-white rounded-full"
      />
      <p class="text-lg font-medium">+33 6 68 30 09 60</p>
      <p class="text-lg">
        <a
          href="mailto:monicamariage@hotmail.com"
          class="underline hover:text-[#af7749]"
        >
          monicamariage@hotmail.com
        </a>
      </p>
    </div>

   <!-- üìå INFORMATIONS -->
<div class="w-full md:w-1/4 mb-6">
  <h4 class="text-xl font-semibold text-[#af7749] mb-4">Informations</h4>
  <ul>
    <li class="mb-2">
      <a href="/trouver-boutique-robe-mariee-toulouse" class="hover:text-[#af7749]">
        Trouver le showroom
      </a>
    </li>
    <li class="mb-2">
      <a href="/prendre-rendez-vous" class="hover:text-[#af7749]">
        Prendre rendez-vous
      </a>
    </li>
    <li class="mb-2">
      <a href="/a-propos" class="hover:text-[#af7749]">
        √Ä propos
      </a>
    </li>
    <li class="mb-2">
      <a href="/conditions-generales-de-vente" class="hover:text-[#af7749]">
        CGV
      </a>
    </li>
    <li class="mb-2">
      <a href="/mentions-legales" class="hover:text-[#af7749]">
        Mentions l√©gales
      </a>
    </li>
    <li class="mb-2">
      <a href="/politique-de-confidentialite" class="hover:text-[#af7749]">
        Politique de confidentialit√©
      </a>
    </li>
   
  </ul>
</div>
    <!-- üëó PRODUITS -->
    <div class="w-full md:w-1/4 mb-6">
      <h4 class="text-xl font-semibold text-[#af7749] mb-4">Nos Produits</h4>
      <ul>
        <li class="mb-2">
          <a href="/robes-de-mariee" class="hover:text-[#af7749]"
            >Robes de mari√©e</a
          >
        </li>
        <li class="mb-2">
          <a href="/promo" class="hover:text-[#af7749]">Promotions</a>
        </li>
        <li class="mb-2">
          <a href="/robe-mariee-sur-mesure-toulouse" class="hover:text-[#af7749]"
            >Toutes nos robes</a
          >
        </li>
      </ul>
    </div>

    <!-- üì¢ R√âSEAUX SOCIAUX -->
    <div class="w-full md:w-1/4 mb-6">
      <h4 class="text-xl font-semibold text-[#af7749] mb-4">Nous suivre</h4>
      <SocialIcons iconColor="white" center="flex-start" />
      <p class="mt-3 text-sm">
        üìç Situ√© au sud de Toulouse (Seysses), √† proximit√© de Montauban (40
        min), Albi (1h), Castres (1h15), Carcassonne (1h), Narbonne (1h40),
        Tarbes (1h40), B√©ziers (1h55), Pau (2h10), Perpignan (2h15), Montpellier
        (2h30), Bordeaux (2h30).
      </p>
    </div>
  </div>   

  <!-- üìú COPYRIGHT -->
  <div class="border-t border-gray-600 mt-6 pt-4 text-center text-sm">
    <p>&copy; 2014 - 2025 Monica Mariage Showroom ‚Äì Tous droits r√©serv√©s</p>
  </div>
  <!-- place √ßa √† la fin de ton layout, juste avant </body> -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js'); // ou ton chemin r√©el
    });
  }
</script>



  <!-- Bouton PWA avec Tailwind -->
   <!-- <button 
   id="install-pwa" 
   class="hidden fixed bottom-5 right-5 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg shadow-lg transition-colors duration-200 z-50"
 >
   üì± Installer l'app
 </button> -->

 <!-- Script PWA -->
 <script is:inline>
   let deferredPrompt;
   const installBtn = document.getElementById('install-pwa');
   
   window.addEventListener('beforeinstallprompt', (e) => {
     e.preventDefault();
     deferredPrompt = e;
     installBtn.classList.remove('hidden');
     installBtn.classList.add('block');
   });
   
   installBtn?.addEventListener('click', async () => {
     if (!deferredPrompt) return;
     
     deferredPrompt.prompt();
     await deferredPrompt.userChoice;
     
     deferredPrompt = null;
     installBtn.classList.add('hidden');
     installBtn.classList.remove('block');
   });
   
   window.addEventListener('appinstalled', () => {
     installBtn.classList.add('hidden');
     installBtn.classList.remove('block');
   });
 </script>
</footer>
